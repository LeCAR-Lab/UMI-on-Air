<mujoco model="umi_lightbulb_screw">
    <option
            timestep="0.02"
            gravity="0 0 0"
            noslip_iterations="100"
            impratio="50.0"
            iterations="100"
            tolerance="1e-12"
            cone="elliptic"
            jacobian="dense">
    </option>

    <default>
        <geom friction="1.0 0.5 0.5" condim="6" solref="0.01 1" solimp="0.99 0.99 0.01"/>
    </default>

    <include file="umi.xml"/>

    <!-- Light bulb screwing environment -->
    <worldbody>
        <!-- Wall with socket - stable like peg-in-hole -->
        <body name="wall" pos="0.7 0 0.0">      
            <!-- Main wall surface with heavy mass for stability - smaller size -->
            <geom name="wall_main_geom" type="box" size="0.05 0.15 0.15" pos="0.0 0.0 1.2" mass="1000000" rgba="0.8 0.8 0.8 1"/>
            
            <!-- Socket mounted on wall -->
            <geom name="socket_outer_geom" type="cylinder" size="0.035 0.025" pos="-0.02 0.0 1.2" mass="1000000" rgba="0.2 0.2 0.2 1"/>
            
            <!-- Light bulb assembly - positioned partially in socket, ready to screw -->
            <body name="lightbulb" pos="-0.06 0.0 1.2">
                <!-- Light bulb head (spherical, for gripping) - transparent so indicators show -->
                <geom name="bulb_head_geom" type="sphere" size="0.025" pos="-0.025 0.0 0.0" mass="0.1" rgba="0.9 0.9 0.8 0.3" friction="3.0 2.0 1.0" solref="0.001 0.5" solimp="0.95 0.95 0.01" condim="4"/>
                
                <!-- Light bulb screw base (partially inside socket) -->
                <geom name="bulb_base_geom" type="cylinder" size="0.015 0.015" pos="-0.005 0.0 0.0" mass="0.05" rgba="0.6 0.6 0.5 1" friction="3.0 2.0 1.0" solref="0.001 0.5" solimp="0.95 0.95 0.01" condim="4"/>
                
                <!-- Rotation indicator line across the bulb head (RED - horizontal) -->
                <geom name="rotation_indicator" type="box" size="0.002 0.025 0.003" pos="-0.025 0.0 0.0" mass="0.001" rgba="1.0 0.0 0.0 1" friction="1.0 1.0 1.0"/>
                
                <!-- Additional rotation indicator (GREEN - vertical) -->
                <geom name="rotation_indicator_2" type="box" size="0.003 0.003 0.025" pos="-0.025 0.0 0.0" mass="0.001" rgba="0.0 1.0 0.0 1" friction="1.0 1.0 1.0"/>
                
                <!-- Simple rotation joint with very low damping for easier rotation -->
                <joint name="bulb_rotation" type="hinge" axis="1 0 0" range="0 6.28" damping="0.001" frictionloss="0.001" armature="0.001"/>
            </body>
            
            <!-- Free joint for wall mobility but stability -->
            <joint type="free" name="wall_joint"/>
        </body>
    </worldbody>

</mujoco> 